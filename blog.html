<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kibongo Simon Peter - Portfolio</title>
    <link rel="stylesheet" href="assets/style/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <img src="assets/images/logo.svg" alt="My Logo" id="brand" />
                <span class="greener">‚óè</span>
            </div>
            <div class="links">
                <a href=".">Home</a>
                <a href="about.html">About me</a>
                <a href="skills.html">Skills</a>
                <a href="work.html">My Work</a>
                <a href="contact.html">Contact Me</a>
                <a href="blogs.html">Blogs</a>
            </div>
            <div class="menu">
                <i class="fa fa-navicon"></i>
            </div>
        </nav>
    </header>
    <div id="app">
        <main class="blogs">
            <div class="img-header individual">
                <h1 id="blog_title"></h1>
            </div>
            <div class="blog-content">
                <div class="share">
                    <a href="https://x.com" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-x"></i>
                    </a>
                    <a href="https://facebook.com" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://linkedin.com/in/kibongo" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://quora.com" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-quora"></i>
                    </a>
                </div>
                <div class="main-content">
                                <div style="padding: 20px;" class="align-center">
                                    <a href="blogs.html" class="buttons">All Blogs</a>
                                </div>
                    <div class="blog" id="blog_content">
                    </div>
                    <div class="comments">
                        <h2>Comments</h2>
                        <form action="#" name="comments_form">
                            <label for="name">Your Name</label>
                            <input type="text" name="name" id="name" placeholder="Your name or Alias">
                            <label for="comment">Your comment</label>
                            <textarea name="comment" id="comment" rows="5" placeholder="Your comment here"></textarea>
                            <span type="submit" onclick="newComment()" value="Submit" class="buttons">Submit</span>
                        </form>
                        <div class="divider"></div>
                        <div id="comments">
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer>
        <p>Made with <span style="color: red">&#10084;</span> from Rwanda</p>
    </footer>
    <script src="assets/js/script.js"></script>
    <script>
        link = window.location.href;
        regex = /[\d]+$/;
        id = link.match(regex)[0];
        getBlog();
        getComments(id);
        function newComment(){
            let name = comments_form.name.value;
            let comment = comments_form.comment.value;
            let newComment = {
                blog_id: id,
                name: name,
                comment: comment,
                approved: false
            };
            if('comments' in localStorage){
                if(localStorage['comments'].length > 3){
                    let comments = JSON.parse(localStorage['comments']);
                    comments.push(newComment);
                    localStorage['comments'] = JSON.stringify(comments);
                }
                else{      
                    let comments = [];    
                    comments.push(newComment);
                    localStorage['comments'] = JSON.stringify(comments);
                }
            }
            else{
                let comments = [];
                comments.push(newComment);
                localStorage['comments'] = JSON.stringify(comments);
            }
            comments_form.name.value = "";
            comments_form.comment.value = "";
            setTimeout(() => {
                window.alert("Your comment will be visible when approved");
            }, 1000);
        }
    </script>
</body>

</html>